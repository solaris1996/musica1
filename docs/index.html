<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        #answer {
            display: none;
        }
    </style>
    <title>musica</title>
</head>
<body>
<div id="container" class="container text-center">

    <div class="btn-group mt-2" role="group" aria-label="Basic radio toggle button group">
        <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" checked>
        <label class="btn btn-outline-primary" for="btnradio1" id="all-btn">ALL</label>

        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
        <label class="btn btn-outline-primary" for="btnradio2" id="scale-btn">音階</label>

        <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
        <label class="btn btn-outline-primary" for="btnradio3" id="no-scale-btn">音階以外</label>
    </div>

    <h1 id="title" class="mt-2"></h1>

    <section id="q-a">
        <div id="answer">
            <img alt="answer">
        </div>

        <div id="question">
            <img src="images/start.png" alt="question">
        </div>
    </section>

</div>

<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
        integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script>
    $(function () {
        const QUESTION_NUMBER = 124;
        let allQuestions = new Array(QUESTION_NUMBER);
        let allAnswers = new Array(QUESTION_NUMBER);
        let questions;
        let answers;
        let currentNumber;
        let mode;

        for (let i = 0; i < allQuestions.length; i++) {
            allQuestions[i] = './images/' + (i + 1) + 'q.png';
        }
        for (let i = 0; i < allAnswers.length; i++) {
            allAnswers[i] = './images/' + (i + 1) + 'a.png';
        }

        function next() {
            if (mode === '' || mode === 'a') {
                currentNumber = Math.floor(Math.random() * questions.length);
                mode = 'q';
                $('#title').text("Q " + (currentNumber + 1));
                $('#question').children('img').attr('src', questions[currentNumber]);
                $('#answer').hide();
            } else {
                mode = 'a';
                $('#title').text("A " + (currentNumber + 1));
                $('#question').children('img').attr('src', questions[currentNumber]);
                $('#answer').children('img').attr('src', answers[currentNumber]);
                $('#answer').show();
            }
        }

        function init(course) {
            $('#title').text('Studiare musica');
            $('#question').children('img').attr('src', './images/start.png');
            $('#answer').hide();

            if (course === 'all') {
                questions = allQuestions;
                answers = allAnswers;
            } else if (course === 'scale') {
                questions = allQuestions.slice(0, 36);
                answers = allAnswers.slice(0, 36);
            } else if (course === 'no_scale') {
                questions = allQuestions.slice(37, allQuestions.length);
                answers = allAnswers.slice(37, allAnswers.length);
            }
            console.log(questions.length);
            console.log(answers.length);

            currentNumber = 0;
            mode = '';
        }

        $('#all-btn').on('click', () => {
            init('all');
        });

        $('#scale-btn').on('click', () => {
            init('scale');
        });

        $('#no-scale-btn').on('click', () => {
            init('no_scale');
        });

        $('#q-a').on('click', () => {
            next();
        });

        init('all');
    });
</script>
</body>
</html>